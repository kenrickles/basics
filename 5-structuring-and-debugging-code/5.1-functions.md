# 5.1: Functions

## Introduction

{% embed url="https://youtu.be/M0yXZtZSg-A" caption="" %}

We can now start to group the code we're working with into "functions" and use functions to write more realistic programs. Let's explore how functions work.

## What Functions Do

A function is a collection of lines of code. We can run that code when we write the appropriate code statement to "execute" the function. A function is a type of **control flow**, meaning we can write code that _not_ execute sequentially through the code file. For example, we may define a function at the top of our file, but only execute that function at the bottom of our file.

## Define a Function

Define a function that "abstracts" the km-to-miles conversion we did in [4.2: Our First Program](../4-getting-started-with-code/4.2-our-first-program.md#metric-conversion-program).

1. Start at the top of `script.js`
2. Create a variable for our function: `var convertKmToMiles`. Note that function variable names start with a verb by convention, to distinguish them from variables storing other data types.
3. Assign a function to that variable: `var convertKmToMiles = function ()`
4. Note the beginning and end of the function "block" with curly braces \(`{}`\)

```javascript
var convertKmToMiles = function () {};
```

Define what actions happen when the function will be executed.

```javascript
var distanceInMiles = distanceInKm * 0.62;
```

Use the `return` keyword to define the output value of the function. Note that the output value of a function may not be the output value of the overall program.

```javascript
return distanceInMiles;
```

We define and name the function input or "parameter" as `distanceInKm`.

```javascript
var convertKmToMiles = function (distanceInKm) {
```

All together our function looks like the following.

```javascript
var convertKmToMiles = function (distanceInKm) {
  var distanceInMiles = distanceInKm * 0.62;
  return distanceInMiles;
};
```

## Execute a Function

The syntax for running our function is to code the function name and add parentheses \(`()`\) to the end of it.

```javascript
convertKmToMiles();
```

Our function takes an argument \(also known as a parameter\): a distance in KM. For our function to work, we must pass this parameter to our function by specifying the parameter in the parentheses.

```javascript
var myKmDistance = 4;
convertKmToMiles(myKmDistance);
```

Let's test this on its own.

1. Open Chrome Developer Tools by selecting View &gt; Developer &gt; JavaScript Console from the Chrome menu bar
2. Paste the code from the last code snippet above into the console and hit `Enter`
3. Observe the calculated result
4. Type the function name into the console and hit `Enter`. You should see the code block you defined.
5. Run the function from the console again with a different input value

```javascript
convertKmToMiles(7676);
```

### **Define Other Input Variables**

Create several variables and use them as input to your function.

```javascript
var kmsToHome = 4;
var kmsToSchool = 6;
var kmsToWork = 7;
```

Use these variables as input to our function. Paste each function call into the console and hit `Enter` one by one.

```javascript
convertKmToMiles(kmsToHome);
convertKmToMiles(kmsToSchool);
convertKmToMiles(kmsToWork);
```

## Capture the Result

We can see the result of our calculation in the console and capture that value for later. Paste this code into the console:

```javascript
var result = convertKmToMiles(7676);
```

Type in the name of the variable, `result`, and press `Enter` to see the given value.

## Add Function to Code File

Back in `script.js`, Call `convertKmToMiles` from our `main` function, providing `input` as a parameter to `convertKmToMiles`.

```javascript
var convertKmToMiles = function (distanceInKm) {
  var distanceInMiles = distanceInKm * 0.62;
  return distanceInMiles;
};

var main = function (input) {
  var myOutputValue = convertKmToMiles(input);
  return myOutputValue;
};
```

## Other Sample Functions

### Double a Number

```javascript
var doubleNumber = function (number) {
  return number * 2;
};
```

### Convert Kilograms to Pounds

```javascript
var convertKilosToPounds = function (kilos) {
  return kilos * 2.2;
};
```

### Calculate Area of a Circle

```javascript
var calcCircleArea = function (radius) {
  var pi = 3.1415;
  return pi * radius * radius;
};
```

## Main Function

We can now better understand the `main` function in our starter code. You may have noticed we currently do not execute `main` from `script.js`. Our starter code runs `main` for us whenever we click the Submit button. The mechanism is inside `index.html`.

* The `input` parameter of `main` is what the user types in the input box
* The `return` value of `main` is what gets displayed in the output box

With this in mind, assign the value of `input` to `myOutputValue` to see this connection. Then change the code again to assign the string value "wow hello" to `myOutputValue`.

## What Functions are For

We defined functions as collections of lines of code we can run, also known as "blocks" of code. 

1. Sometimes we just want to run a specific block of code in our programs. We do this with `main`. `main` contains everything we want to happen when the user clicks Submit.
2. Given the above function examples we can also say that a function can be a data calculation given some inputs. We can define an action as the kind of data it takes in and the kinds of outputs it gives.

## Exercises

{% hint style="info" %}
#### **1\) Duplicate and run the code above.**

**2\) Paste the other function examples in instead of `convertKmToMiles`.**

#### **2\) Errors: take out `return` from the examples. What happens? Why?**

The **return** keyword is crucial to the way our functions run. What does it do? How does it work?

#### **3\) Errors: take out `distanceInKm` from the examples. What happens? Why?**

The **parameter** name `distanceInKm` represents something in our program. What does it represent?

Change the name `distanceInKm` in every place in the program. What happens?

#### **4\) Apps**

For the following apps try to encapsulate each distinct operation inside a function that returns a value. e.g.,`daysToMinutes(3)`.

#### **Juice Wedding**

It takes 4 oranges to make a 90ml glass of orange juice.

When planning your wedding, you need to know how many oranges to buy so all your guests have juice.

The user will enter a number of guests and the app will say how many oranges are needed and how many litres of orange juice you would get.

#### **SG Hugs**

Everyone has a different gauge for how long they like to hug.

The user can enter a number of seconds they like to hug on average, and the app will calculate how many years it will take to hug everyone in Singapore.

You are of course allowed 9 hours a day to sleep and eat.

#### **House Paint**

You want to be able to estimate the price of painting your home.

Your designer home only has windows and doors that are the same size- 90cm x 150cm. 8 windows and 3 doors.

Each room in your 6 room house is the same size: 3m x 3m.

Paint will cover about 300 square meters a litre. You want to use 2 coats.

The user can enter a dollar amount of paint per litre and the app will calculate how much it will cost.

**Train Speed**

Two trains are going to leave for the trip north to Tokyo.

Train 1 is traveling 200kph. It will reach Tokyo in 2 hours.

Train 2 is newer and can travel faster.

A bird lands on the track and delays Train 2.

The app will help the conductor by allowing him to enter the current amount of minutes they are delayed and then calculating how fast they need to travel to arrive at Tokyo at the same time as Train 1. Output the speed in kph in the grey box.

### More Comfortable

#### **Clock**

A user can enter the number of minutes past 1pm and the app will calculate the angle between the hour and minute hand.
{% endhint %}

