# 9.2: Loops

{% embed url="https://youtu.be/wn3G\_OO32kg" caption="" %}

We've defined an array and looked inside of it and added values, but we don't yet have anything that can deal with the entire array. Or specifically that can deal with **each** item in the array, when the array is an arbitrary length.

For that we are going to add the last control structure we'll use, **loops**.

In the context of games we'll see a few uses of loops that don't have to do with arrays, but from the point of view of software that manipulates input data, the concept of the loop is very much tied to the concept of the array.

A loop defines a **block** of code \(with curly braces\) that will run a set number of times.

A loop relies on a **condition** to tell it to keep running or not.

We'll look at loops in isolation first, then we'll see that they match up perfectly with how an array works.

## while

This is a loop that runs 10 times.

```javascript
var counter = 0;
while (counter < 10) {
  console.log('hello');
  counter = counter + 1;
}
```

## Outputting Program

Let's create a program that outputs things in a loop based on some input.

```javascript
var main = function (input) {
  var myOutputValue = '';

  var counter = 0;

  while (counter < input) {
    myOutputValue = myOutputValue + 'yes';

    counter = counter + 1;
  }

  return myOutputValue;
};
```

{% hint style="warning" %}
Note that except for some rare exceptions, the increment of the counter \(`counter = counter + 1`\) should be the last statement in the loop block. Don't write any statement below that, it's most likely not what you intended.
{% endhint %}

### Outputting Program with Logic

{% embed url="https://youtu.be/ozrUPHZWfIw" caption="" %}

Let's create a program that outputs things in a loop based on some input. If we put a conditional inside the loop we can have it output two types of things.

```javascript
var main = function (input) {
  var myOutputValue = '';

  var counter = 0;
  while (counter < input) {
    if (counter < 5) {
      myOutputValue = myOutputValue + 'yes';
    } else {
      myOutputValue = myOutputValue + 'no';
    }
    counter = counter + 1;
  }

  return myOutputValue;
};
```

#### Logic Variations

Just with the combination of loops and conditionals we have a very powerful set of tools to create a set of output patterns.

By using the property of counter alternating between odd and even numbers we can get an output that alternates.

{% hint style="warning" %}
Note that one of the main tricks to working with loops is being able to identify the pattern you want to create and working backwards from there to construct the logic within the loop and without to get that pattern.

Many patterns will be a combination of this creation of a repeating pattern like here with `%` and some more specific global conditions like the example above.
{% endhint %}

```javascript
var counter = 0;

while (counter < input) {
  // see if counter is even
  // % is the remander of division
  // so if a number divided by 2 has no remainder, it is even
  // the output will alternate btwn yes and no
  if (counter % 2 == 0) {
    myOutputValue = myOutputValue + 'yes';
  } else {
    myOutputValue = myOutputValue + 'no';
  }
  counter = counter + 1;
}
```

## Loops and Functions

{% embed url="https://youtu.be/5qeXMmGRhZY" caption="" %}

We can combine a loop and a function together, effectively moving a block of code outside the loop definition. \(Obviously you can also do the reverse- put a loop inside a function\).

We can use the `diceRoll` function elsewhere and it also helps to keep our code clean inside the loop block.

```javascript
var diceRoll = function () {
  // produces a decimal between 0 and 6
  var randomDecimal = Math.random() * 6;

  // take off the decimal
  var randomInteger = Math.floor(randomDecimal);

  // it's anumber from 0 - 5 ... add 1
  var diceNumber = randomInteger + 1;

  return diceNumber;
};

var main = function (input) {
  var myOutputValue = '';

  var counter = 0;

  while (counter < input) {
    // roll the dice inside the loop
    var roll = diceRoll();
    myOutputValue = myOutputValue + ' ' + roll + ' ';

    counter = counter + 1;
  }

  return myOutputValue;
};
```

## Loops and Loops - Outputting Program with Dimensions

{% embed url="https://youtu.be/wxUafGMsOw4" caption="" %}

Let's create a program that outputs things in a loop based on some input. If we put another loop inside the loop we can represent other _lines_ of output.

Note we are using `<br>` to create a new line.

```javascript
var main = function (input) {
  var myOutputValue = '';

  var lineCounter = 0;

  while (lineCounter < input) {
    var columnCounter = 0;

    while (columnCounter < input) {
      myOutputValue = myOutputValue + 'x';

      columnCounter = columnCounter + 1;
    }

    // start a new line
    myOutputValue = myOutputValue + '<br>';

    lineCounter = lineCounter + 1;
  }

  return myOutputValue;
};
```

## For Loops

Most languages have variations on the syntax above that behave similarly. One variation we will encounter relatively frequently is the "for loop" syntax. For loops loop over a fixed number of iterations, and are a more concise syntax for doing so. Whenever we have a fixed number of iterations we should use a for loop if possible. The 2 following examples behave the same, but the for loop syntax is more concise.

#### While Loop Syntax

```javascript
var counter = 0;
while (counter < 10) {
  console.log('hello');
  counter += 1;
}
```

#### For Loop Syntax

```javascript
for (var counter = 0; counter < 10; counter += 1) {
  console.log('hello');
}
```

You may also see the incrementation step replaced by: `counter++`. This adds 1 to `counter`. At RA we prefer ESLint's recommendation of `counter += 1` syntax. See ESLint's reasons against `++` syntax [here](https://eslint.org/docs/rules/no-plusplus).

The key difference in for loop syntax is that **all loop management code is consolidated in the top parenthesis group**. However, when the code runs, each step actually **happens in the same order as in the while loop example**. These steps are the following.

1. Declare and initialise counter variable
2. Evaluate condition
3. Increment counter

We suggest sticking with while loops until you are comfortable with the mechanics of the loop syntax.

## Base Exercises

### Follow Along

Implement the above code.

### Drawing Intro

Use loops to create an app that draws emojis into the grey box. Begin the app by **forking** this repo: [https://github.com/rocketacademy/swe101-drawing](https://github.com/rocketacademy/swe101-drawing). See [here](https://support.microsoft.com/en-us/windows/windows-10-keyboard-tips-and-tricks-588e0b72-0fff-6d3f-aeee-6e5116097942) for how to input Emoji on Windows and [here](https://support.apple.com/en-sg/guide/mac-help/mchlp1560/mac) for how to input emoji on Mac.

### Number of Characters

The user will enter a number of characters to display on the screen.

For example, if the user enters 4 they will see this:

![](../.gitbook/assets/screen-shot-2020-08-26-at-12.35.32-am%20%281%29.png)

### Square

The user will enter the dimensions of a square to display on the screen.

Use a loop within a loop and the `<br>` tag in your output to create the square.

For example, if the user enters 4 they will see this:

![](../.gitbook/assets/screen-shot-2020-08-26-at-12.35.12-am.png)

## More Comfortable Exercises

### Triangle

The user will enter the dimensions of a triangle to display on the screen.â€Œ

Use a loop within a loop, a conditional and the `<br>` tag in your output to create the triangle.

For example, if the user enters 4 they will see this:

![](../.gitbook/assets/screen-shot-2020-08-26-at-12.37.35-am.png)

### Outline Square

The user will enter the dimensions of a square to display on the screen. The square is outlined by a different character.

For example, if the user enters 4 they will see this:

![](../.gitbook/assets/screen-shot-2020-08-26-at-12.54.56-am.png)

## Exercise Reference Solution

Please find a reference solution [here](https://github.com/rocketacademy/swe101-drawing/pull/9/files). Note that there are many ways to code solutions to these problems and the reference solution is only 1 way.

